step 1: Preprocess,step 2: BA process,step 3: Postprocess
